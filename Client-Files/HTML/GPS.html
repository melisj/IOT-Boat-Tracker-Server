<!DOCTYPE html>

<html>

	<head>
		<script src="../Client-Files/Javascript/Request-Data.js"></script>
		
		<link rel="stylesheet" href= "../Client-Files/CSS/GPS.css">
		
	</head>

	<body onload="storeAllBoatsInList()">
		<h1>
			This is the GPS site, <br>
			this will send info to the server about the position of the tracker
		</h1>

		<div>
			<form id="gps-form">
				<label>Name of the boat</label>
				<br>
				<input name="boat_name" list="boats" required>
				<br>
				<label>START GPS</label>
				<input class="button" type="submit" value="Start GPS">

				<datalist id="boats">
				</datalist>
			</form>

			<div id="gps-status">
				<p>Is Sending GPS?</p>
			</div>
		</div>

		<script>
			const boatInputList = document.querySelector("#boats");

			function storeAllBoatsInList() {
				var inputList = "";
					
				doRequestForData((boatList) => {
					for (var i = 0; i < boatList.length; i++) {
						inputList += "<option value=" + boatList[i].name + ">"
					}
					boatInputList.innerHTML = inputList;
				},
				"/client/boats");
			
			}
		</script>
		<script src="../Client-Files/Javascript/Geolocator.js"></script>
	</body>

</html>